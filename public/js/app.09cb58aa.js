(function(t){function e(e){for(var r,i,s=e[0],u=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],o[i]&&p.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0019":function(t,e,n){},"0120":function(t,e,n){},"039a":function(t,e,n){"use strict";var r=n("3760"),o=n.n(r);o.a},"13d9":function(t,e,n){"use strict";var r=n("bf85"),o=n.n(r);o.a},1981:function(t,e,n){},"22a2":function(t,e,n){t.exports=n.p+"img/chris.f6c74789.png"},"2b4d":function(t,e,n){t.exports=n.p+"img/lance.b868f71d.png"},3384:function(t,e,n){t.exports=n.p+"img/connor.a507f13a.png"},"36f4":function(t,e,n){},3760:function(t,e,n){},5617:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),o=n("8c4f"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Play",rel:"stylesheet"}}),n("div",{attrs:{id:"headers"}},[n("h2",{attrs:{id:"appheader"}},[t._v("SNOWEDEN")]),t.user?n("h3",{attrs:{id:"fdsa"}},[t._v("Welcome, "+t._s(t.user))]):t._e()]),n("div",{attrs:{id:"app"}},[n("Header"),n("RouterView")],1)])},i=[],s="",u="",c={setToken:function(t){s=t},getToken:function(){return s},setUser:function(t){u=t},getUser:function(){return u},signIn:function(t){return fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.ok?t.json():t.json().then(function(t){return Promise.reject(t)})})},signUp:function(t){return fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.ok?t.json():t.json().then(function(t){return Promise.reject(t)})})},getResortByid:function(t){return fetch("/api/map/resort/".concat(t),{method:"GET"}).then(function(t){return t.json()})},getMarkers:function(){return fetch("/api/map/markers",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()})},getResorts:function(){return fetch("/api/map/resortall",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()})}},l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("nav",[n("RouterLink",{staticClass:"link",attrs:{to:"/"}},[t._v("Home")]),n("RouterLink",{staticClass:"link",attrs:{to:"/resorts"}},[t._v("Resorts")]),n("RouterLink",{staticClass:"link",attrs:{to:"/about"}},[t._v("About")]),n("RouterLink",{staticClass:"link",attrs:{to:"/login"}},[t._v("Sign Up/In")]),n("a",{staticClass:"link",attrs:{href:"#"},on:{click:t.onLogout}},[t._v("Logout")])],1)])},d=[],p={methods:{onLogout:function(){c.setToken(""),this.$router.push("/")}}},f=p,m=(n("8baf"),n("2877")),v=Object(m["a"])(f,l,d,!1,null,null,null);v.options.__file="Header.vue";var h=v.exports,g={data:function(){return{user:""}},components:{Header:h},created:function(){this.user=c.getUser().username}},_=g,b=(n("9993"),Object(m["a"])(_,a,i,!1,null,null,null));b.options.__file="App.vue";var k=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[t.user?n("h3",[t._v("Hello "+t._s(t.user))]):t._e(),t._m(0),n("hr"),n("p",{attrs:{id:"description"}},[t._v("\n    Displays a Google Map of all the ski resorts in Oregon.  Click on a marker to show more details about said resort.  Give it a rating, add a comment about the weather conditions, or if you don't have an account, you can just look at all the pretty resorts in Oregon.\n  ")]),t.stats?n("div",[n("H4",[t._v("Your Top 3 Picks!")]),n("table",[n("tbody",t._l(t.stats,function(e){return n("tr",{key:e.resortId},[n("td",[t._v(t._s(e.resort_name))]),n("td",[t._v(t._s(e.avg)+"/5")]),n("td")])}),0)])],1):t._e()])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Welcome to\n  "),n("br"),n("br"),n("span",{attrs:{id:"snoweden"}},[t._v("SNOWEDEN")])])}],R={addComment:function(t){return console.log(t),fetch("/api/userinput/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},addStarRating:function(t){return console.log("api call",t),fetch("/api/userinput/star",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},getStats:function(){return fetch("/api/userinput/stats",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()})}},S={data:function(){return{user:"",resort:null,stats:null}},created:function(){var t=this;this.user=c.getUser().username,this.stats=R.getStats().then(function(e){t.stats=e})}},C=S,j=(n("b497"),Object(m["a"])(C,w,y,!1,null,null,null));j.options.__file="Home.vue";var T=j.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("br"),n("label",{attrs:{id:"drop-down"}},[t._v("Select a Resort:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRes,expression:"selectedRes"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedRes=e.target.multiple?n:n[0]}}},t._l(t.allResorts,function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n        "+t._s(e.resort_name)+"\n      ")])}),0),n("button",{on:{click:t.onSelect}},[t._v("Select Resort")]),n("br"),n("br"),n("div",{attrs:{id:"gmap"}},[n("GmapMap",{staticStyle:{width:"1000px",height:"600px"},attrs:{center:t.center,zoom:7,"map-type-id":"terrain"}},t._l(t.markers,function(e){return n("GmapMarker",{key:e.id,attrs:{position:e.position,clickable:!0,draggable:!1},on:{click:function(n){t.onMarkerClick(e.id)}}})}),1)],1)])},x=[],O=(n("ac6a"),{data:function(){return{center:{lat:45,lng:-122},markers:[],allResorts:[],selectedRes:0}},props:{resorts:Array},created:function(){var t=this;c.getMarkers().then(function(e){var n=[];e.forEach(function(t){var e={};e.id=t.id,e.position={lat:t.coordinate_lat,lng:t.coordinate_lon},n.push(e)}),t.markers=n}),c.getResorts().then(function(e){t.allResorts=e})},methods:{onMarkerClick:function(t){this.$router.push("/resorts/".concat(t))},getResorts:function(){var t=this;c.getResorts().then(function(e){t.allResorts=e})},onSelect:function(){this.$router.push("/resorts/".concat(this.selectedRes))}}}),$=O,I=(n("13d9"),Object(m["a"])($,E,x,!1,null,null,null));I.options.__file="Resorts.vue";var U=I.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"about"}},[r("h2",{attrs:{id:"aboutdev"}},[r("u",[t._v("About the Developers")])]),r("div",{staticClass:"profiles"},[r("div",[r("span",{attrs:{id:"shaba"}},[t._v("Shaba")]),r("img",{attrs:{src:n("7af6"),alt:"image of shaba"}}),r("p",[t._v("THE FEARLESS")])]),r("div",[r("span",{attrs:{id:"connor"}},[t._v("Connor")]),r("img",{attrs:{src:n("3384"),alt:"image of connor"}}),r("p",[t._v("THE ADVENTURER")])]),r("div",[r("span",{attrs:{id:"lance"}},[t._v("Lance")]),r("img",{attrs:{src:n("2b4d"),alt:"image of lance"}}),r("p",[t._v("THE STRONG")])]),r("div",[r("span",{attrs:{id:"chris"}},[t._v("Chris")]),r("img",{attrs:{src:n("22a2"),alt:"image of chris"}}),r("p",[t._v("THE BRAVE")])])])])}],L=(n("b8ab"),{}),A=Object(m["a"])(L,P,N,!1,null,null,null);A.options.__file="About.vue";var D=A.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"login"}},["signin"===t.method?n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSignIn(e)}}},[n("h3",[t._v("Log In:")]),n("label",[t._v("Username:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signIn.username,expression:"signIn.username"}],attrs:{required:""},domProps:{value:t.signIn.username},on:{input:function(e){e.target.composing||t.$set(t.signIn,"username",e.target.value)}}})]),n("br"),n("label",[t._v("Password:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signIn.password,expression:"signIn.password"}],attrs:{type:"password",required:""},domProps:{value:t.signIn.password},on:{input:function(e){e.target.composing||t.$set(t.signIn,"password",e.target.value)}}})]),n("br"),n("button",[t._v("Log In")]),n("hr"),n("p",[t._v("\n                Need to register?\n                "),n("button",{on:{click:function(e){t.method="signup"}}},[t._v("Sign Up")])])])]):n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSignUp(e)}}},[n("h3",[t._v("Sign Up:")]),n("label",[t._v("Username:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.username,expression:"signUp.username"}],attrs:{required:""},domProps:{value:t.signUp.username},on:{input:function(e){e.target.composing||t.$set(t.signUp,"username",e.target.value)}}})]),n("br"),n("label",[t._v("Password:\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signUp.password,expression:"signUp.password"}],attrs:{type:"password",required:""},domProps:{value:t.signUp.password},on:{input:function(e){e.target.composing||t.$set(t.signUp,"password",e.target.value)}}})]),n("br"),n("button",[t._v("Sign Up")]),n("p",[t._v("\n                Already have an account?\n                "),n("button",{on:{click:function(e){t.method="signin"}}},[t._v("Sign In")])])])])])},W=[],M={data:function(){return{method:"signin",profile:{username:"",password:""},signIn:{},signUp:{}}},methods:{onSignIn:function(){var t=this;c.signIn(this.signIn).then(function(e){c.setUser(e),c.setToken(e.token),t.$router.push("/")})},onSignUp:function(){var t=this;c.signUp(this.signUp).then(function(e){c.setUser(e),c.setToken(e.token),t.$router.push("/")})}}},G=M,q=(n("039a"),Object(m["a"])(G,H,W,!1,null,null,null));q.options.__file="Login.vue";var J=q.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.token?n("div",[t.resort?n("section",{staticClass:"details"},[t._v("\n    "+t._s(t.resort.resort_name)+"\n    "),n("br"),t._v("\n    "+t._s(t.resort.description)+"\n    "),n("br"),t._v("\n    "+t._s(t.resort.address)+"\n    "),n("br"),t._v("\n    "+t._s(t.resort.url)+"\n    "),n("br")]):t._e(),n("hr"),t.resort?n("ResortWeather",{attrs:{resort:t.resort}}):t._e(),n("StarRating"),n("ResortComments"),n("LiveComments")],1):n("div",[n("p",[t._v("You're not logged in.  Sign in to view content")]),n("RouterLink",{attrs:{to:"/login"}},[n("button",[t._v("Sign In")])])],1)},V=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{attrs:{id:"user-questions"},on:{submit:function(e){return e.preventDefault(),t.submitComment(e)}}},[n("label",[t._v("Adult All-Day Ticket Price:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.feedback.ticketPrice,expression:"feedback.ticketPrice"}],attrs:{type:"number"},domProps:{value:t.feedback.ticketPrice},on:{input:function(e){e.target.composing||t.$set(t.feedback,"ticketPrice",e.target.value)}}})]),n("br"),n("br"),n("label",[t._v("Who Are You?\n      "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.feedback.who,expression:"feedback.who"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.feedback,"who",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),n("option",{attrs:{value:"skier"}},[t._v("Skier")]),n("option",{attrs:{value:"snowboarder"}},[t._v("Snowboarder")]),n("option",{attrs:{value:"cocoa"}},[t._v("Cocoa Drinker")]),n("option",{attrs:{value:"sledder"}},[t._v("Sledder")]),n("option",{attrs:{value:"md"}},[t._v("Mischievous Deliquent")])])]),n("br"),n("br"),n("label",[t._v("How crowded is the resort?\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.feedback.crowded,expression:"feedback.crowded"}],attrs:{type:"text"},domProps:{value:t.feedback.crowded},on:{input:function(e){e.target.composing||t.$set(t.feedback,"crowded",e.target.value)}}})]),n("br"),n("button",[t._v("Submit")]),n("br")]),n("br"),n("form",{attrs:{id:"comment"},on:{submit:function(e){return e.preventDefault(),t.submitComment(e)}}},[n("label",[t._v("Comment:\n      "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feedback.comment,expression:"feedback.comment"}],attrs:{rows:"4",cols:"50",name:"comment",placeholder:"Enter comment..."},domProps:{value:t.feedback.comment},on:{input:function(e){e.target.composing||t.$set(t.feedback,"comment",e.target.value)}}})]),n("button",[t._v("Submit")])])])},Y=[],F={data:function(){return{feedback:{}}},methods:{submitComment:function(){this.feedback.profileId=c.getUser().id,this.feedback.resortId=this.$route.params.id,R.addComment(this.feedback)}}},K=F,Q=(n("73ea"),Object(m["a"])(K,B,Y,!1,null,null,null));Q.options.__file="ResortComments.vue";var X=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{id:"starrating"},on:{submit:function(e){return e.preventDefault(),t.submitStarRating(e)}}},[n("div",{staticStyle:{display:"inline-block"},on:{mouseleave:t.showCurrentRating}},[n("StarRating",{nativeOn:{click:function(e){return t.onRated(e)}},model:{value:t.rating.star,callback:function(e){t.$set(t.rating,"star",e)},expression:"rating.star"}})],1)])},tt=[],et=n("c1da"),nt=n.n(et),rt={data:function(){return{rating:{},currentRating:"",currentSelectedRating:0,boundRating:3,feedback:{StarRating:null,profileId:"",resortId:""}}},components:{StarRating:nt.a},methods:{onRated:function(){this.rating.resortId=this.$route.params.id,this.rating.profileId=c.getUser().id,console.log(this.rating),R.addStarRating(this.rating)},showCurrentRating:function(){this.currentRating=this.rating,this.feedback.StarRating=this.rating},setCurrentSelectedRating:function(t){this.currentSelectedRating=t,this.feedback.StarRating=t},submitStarRating:function(){this.feedback.profileId.id=c.getToken(),this.feedback.resortId=this.$route.params.id,R.addStarRating(this.feedback)}}},ot=rt,at=(n("9ce7"),Object(m["a"])(ot,Z,tt,!1,null,null,null));at.options.__file="ResortRating.vue";var it=at.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.weather?n("div",{attrs:{id:"weather"}},[n("table",{attrs:{align:"center"}},[t._m(0),n("tr",[n("td",[t._v("\n        Temperature\n      ")]),n("td",[t._v("\n        "+t._s(t.weather.main.temp)+"\n      ")])]),n("tr",[n("td",[t._v("\n        Humidity\n      ")]),n("td",[t._v("\n        "+t._s(t.weather.main.humidity)+"\n      ")])]),n("tr",[n("td",[t._v("\n        Wind Speed\n      ")]),n("td",[t._v("\n        "+t._s(t.weather.wind.speed)+"\n      ")])]),n("tr",[n("td",[t._v("\n        Cloud Cover\n      ")]),n("td",[t._v("\n        "+t._s(t.weather.clouds.all)+"\n      ")])]),n("tr",[n("td",[t._v("\n        General Weather\n      ")]),n("td",[t._v("\n        "+t._s(t.weather.weather[0].description)+"\n      ")])])])]):t._e()},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{id:"condition"}},[t._v("\n        Condition\n      ")]),n("th",{attrs:{id:"valuess"}},[t._v("\n        Value\n      ")])])}],ct={getWeather:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(encodeURIComponent(t),"&lon=").concat(encodeURIComponent(e),"&appid=9abd4dd837ed2f8c11ab1eb3a10377c6")).then(function(t){return t.json()})}},lt={data:function(){return{weather:null,coord:null}},props:{resort:Object},created:function(){var t=this;ct.getWeather(this.resort.coordinate_lat,this.resort.coordinate_lon).then(function(e){t.weather=e})}},dt=lt,pt=(n("65d2"),Object(m["a"])(dt,st,ut,!1,null,null,null));pt.options.__file="ResortWeather.vue";var ft=pt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h2",[t._v("Live Comments:")]),n("ul",t._l(t.feedback,function(e,r){return n("li",{key:r},[t._v("\n        "+t._s(e.user)+": "+t._s(e.comment)+"\n        "),e.userComment?n("button",{on:{click:function(n){t.onCommentDel(e.commentId)}}},[t._v("Delete")]):t._e()])}),0)])},vt=[],ht={getComments:function(t){return fetch("/api/feedback/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:c.getToken()}}).then(function(t){return t.json()}).then(function(t){var e=[];return console.log("feedback",t),t.forEach(function(t){var n={};n.user=t.username,n.comment=t.comment,n.commentId=t.commentId,t.profile_id===c.getUser().id?n.userComment=!0:n.userComment=!1,e.push(n)}),e})},deleteComment:function(t){console.log("delete",t),fetch("/api/feedback/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:c.getToken()}})}},gt={data:function(){return{feedback:[]}},created:function(){var t=this;ht.getComments(this.$route.params.id).then(function(e){t.feedback=e})},methods:{onCommentDel:function(t){var e=this;ht.deleteComment(t),ht.getComments(this.$route.params.id).then(function(t){e.feedback=t})}}},_t=gt,bt=(n("8a60"),Object(m["a"])(_t,mt,vt,!1,null,null,null));bt.options.__file="LiveComments.vue";var kt=bt.exports,wt={data:function(){return{token:!1,resort:null}},components:{ResortComments:X,StarRating:it,ResortWeather:ft,LiveComments:kt},created:function(){var t=this;this.token=c.getToken(),c.getResortByid(this.$route.params.id).then(function(e){t.resort=e})}},yt=wt,Rt=(n("de0c"),Object(m["a"])(yt,z,V,!1,null,null,null));Rt.options.__file="ResortDetail.vue";var St=Rt.exports,Ct=new o["a"]({routes:[{path:"/",component:T},{path:"/resorts",component:U},{path:"/resorts/:id",component:St},{path:"/about",component:D},{path:"/login",component:J},{path:"*",redirect:"/"}]}),jt=n("755e");r["a"].config.productionTip=!1,r["a"].use(o["a"]),r["a"].use(jt,{load:{key:"AIzaSyAWWF1R-Hmbz13viqaccbTK3bif3Lmuq2E",libraries:"places"}}),r["a"].directive("focus",{inserted:function(t){t.focus()}}),new r["a"]({router:Ct,render:function(t){return t(k)}}).$mount("#app")},"65d2":function(t,e,n){"use strict";var r=n("1981"),o=n.n(r);o.a},"73ea":function(t,e,n){"use strict";var r=n("5617"),o=n.n(r);o.a},"782e":function(t,e,n){},"7af6":function(t,e,n){t.exports=n.p+"img/shaba.631bdd6c.png"},"8a60":function(t,e,n){"use strict";var r=n("0019"),o=n.n(r);o.a},"8baf":function(t,e,n){"use strict";var r=n("782e"),o=n.n(r);o.a},9759:function(t,e,n){},9993:function(t,e,n){"use strict";var r=n("c352"),o=n.n(r);o.a},"9ce7":function(t,e,n){"use strict";var r=n("9759"),o=n.n(r);o.a},a0e7:function(t,e,n){},b497:function(t,e,n){"use strict";var r=n("a0e7"),o=n.n(r);o.a},b8ab:function(t,e,n){"use strict";var r=n("36f4"),o=n.n(r);o.a},bf85:function(t,e,n){},c352:function(t,e,n){},de0c:function(t,e,n){"use strict";var r=n("0120"),o=n.n(r);o.a}});
//# sourceMappingURL=app.09cb58aa.js.map